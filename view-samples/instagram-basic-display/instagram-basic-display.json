{
  "$schema": "https://developer.microsoft.com/json-schemas/sp/v2/row-formatting.schema.json",
  "schema": "https://developer.microsoft.com/json-schemas/sp/view-formatting.schema.json",
  "hideColumnHeader": "true",
  "hideSelection": true,
  "rowFormatter": {
    "elmType": "div",
    "style": {
      "position": "relative",
      "width": "200px",
      "text-decoration": "none",
      "float": "left",
      "min-width": "200px",
      "height": "200px",
      "margin": "5px",
      "cursor": "pointer"
    },
    "children": [
      {
        "elmType": "a",
        "attributes": {
          "href": "[$permalink]",
          "target": "_blank"
        },
        "children": [
          {
            "elmType": "img",
            "style": {
              "height": "200px",
              "width": "200px"
            },
            "attributes": {
              "src": "=if([$mediaType] =='IMAGE' ||[$mediaType] =='CAROUSEL_ALBUM',[$mediaUrl],[$thumbnailUrl])"
            },
            "customCardProps": {
              "openOnEvent": "hover",
              "directionalHint": "rightCenter",
              "isBeakVisible": true,
              "formatter": {
                "elmType": "div",
                "style": {
                  "max-width": "500px"
                },
                "children": [
                  {
                    "elmType": "div",
                    "style": {
                      "position": "absolute",
                      "bottom": "0"
                    },
                    "children": [
                      {
                        "elmType": "div",
                        "style": {
                          "font-size": "verdana",
                          "padding-left": "10px",
                          "white-space": "nowrap",
                          "overflow": "hidden",
                          "text-overflow": "ellipsis",
                          "max-width": "490px"
                        }
                      },
                      {
                        "elmType": "div",
                        "style": {
                          "padding": "10px",
                          "background-color": "rgba(0, 0, 0, 0.6)",
                          "opacity": "1",
                          "max-width": "490px"
                        },
                        "attributes": {
                          "title": "[$caption]",
                          "class": "ms-fontColor-white ms-fontSize-16"
                        },
                        "txtContent": "[$caption]"
                      }
                    ]
                  },
                  {
                    "elmType": "img",
                    "style": {
                      "max-width": "500px"
                    },
                    "attributes": {
                      "src": "=if([$mediaType] =='IMAGE' ||[$mediaType] =='CAROUSEL_ALBUM',[$mediaUrl],[$thumbnailUrl])"
                    }
                  }
                ]
              }
            }
          }
        ]
      }
    ]
  }
}